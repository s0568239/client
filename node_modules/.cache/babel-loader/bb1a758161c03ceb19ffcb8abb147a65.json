{"ast":null,"code":"var _jsxFileName = \"D:\\\\Final_App_Repo\\\\mensa-app-gruppe-05\\\\client\\\\src\\\\components\\\\Gerichte.js\";\nimport Switch from '@material-ui/core/Switch';\nimport React from 'react';\n\nclass Gerichte extends React.Component {\n  componentWillMount() {\n    this.setState({\n      isLoaded: true\n    });\n    this.setState({\n      value: this.state.value + 1\n    });\n    var i = this.state.value;\n    var date = new Date('2019,10,11');\n    date.setDate(date.getDate() + i);\n    let day_date = FormatDate(date);\n    const days = [\"Mon\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\", \"So\"];\n    var dayweek = days[date.getDay() - 1];\n    console.log(dayweek);\n    this.setState({\n      safeDate: day_date,\n      daysWeek: dayweek\n    });\n    var fetchingGerichte = fetch('/mymensa', {\n      method: 'get'\n    }).then(function (response) {\n      return response.json(); // pass the data as promise to next then block\n    }).then(function (data) {\n      canteen_id = data[0].id;\n      console.log(canteen_id, '\\n' + day_date);\n      var urli = 'https://openmensa.org/api/v2/canteens/' + canteen_id + '/days/' + day_date + '/meals';\n      return fetch(urli); // make a 2nd request and return a promise\n    }).then(function (response) {\n      if (response != null) {\n        return response.json();\n      }\n    }).catch(function (error) {\n      console.log('Request failed test', error);\n    });\n    result.then(essen => this.setState({\n      essen\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Switch, {\n      name: \"checkedA\",\n      inputProps: {\n        'aria-label': 'secondary checkbox'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    });\n  }\n\n}\n\nexport default Gerichte;","map":{"version":3,"sources":["D:/Final_App_Repo/mensa-app-gruppe-05/client/src/components/Gerichte.js"],"names":["Switch","React","Gerichte","Component","componentWillMount","setState","isLoaded","value","state","i","date","Date","setDate","getDate","day_date","FormatDate","days","dayweek","getDay","console","log","safeDate","daysWeek","fetchingGerichte","fetch","method","then","response","json","data","canteen_id","id","urli","catch","error","result","essen","render"],"mappings":";AAAA,OAAOA,MAAP,MAAmB,0BAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,QAAN,SAAuBD,KAAK,CAACE,SAA7B,CAAuC;AAEnCC,EAAAA,kBAAkB,GAAE;AAEhB,SAAKC,QAAL,CAAc;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAd;AACA,SAAKD,QAAL,CAAc;AAAEE,MAAAA,KAAK,EAAE,KAAKC,KAAL,CAAWD,KAAX,GAAmB;AAA5B,KAAd;AACA,QAAIE,CAAC,GAAG,KAAKD,KAAL,CAAWD,KAAnB;AACA,QAAIG,IAAI,GAAG,IAAIC,IAAJ,CAAS,YAAT,CAAX;AACAD,IAAAA,IAAI,CAACE,OAAL,CAAaF,IAAI,CAACG,OAAL,KAAiBJ,CAA9B;AACA,QAAIK,QAAQ,GAAGC,UAAU,CAACL,IAAD,CAAzB;AACA,UAAMM,IAAI,GAAG,CAAC,KAAD,EAAQ,IAAR,EAAc,IAAd,EAAoB,IAApB,EAA0B,IAA1B,EAAgC,IAAhC,EAAsC,IAAtC,CAAb;AACA,QAAIC,OAAO,GAAGD,IAAI,CAACN,IAAI,CAACQ,MAAL,KAAgB,CAAjB,CAAlB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ;AACA,SAAKZ,QAAL,CAAc;AAAEgB,MAAAA,QAAQ,EAAEP,QAAZ;AAAsBQ,MAAAA,QAAQ,EAAEL;AAAhC,KAAd;AAEA,QAAIM,gBAAgB,GAAGC,KAAK,CAAC,UAAD,EAAa;AACrCC,MAAAA,MAAM,EAAE;AAD6B,KAAb,CAAL,CAEpBC,IAFoB,CAEf,UAAUC,QAAV,EAAoB;AACxB,aAAOA,QAAQ,CAACC,IAAT,EAAP,CADwB,CACA;AAC3B,KAJsB,EAIpBF,IAJoB,CAIf,UAAUG,IAAV,EAAgB;AACpBC,MAAAA,UAAU,GAAGD,IAAI,CAAC,CAAD,CAAJ,CAAQE,EAArB;AAEAZ,MAAAA,OAAO,CAACC,GAAR,CAAYU,UAAZ,EAAwB,OAAOhB,QAA/B;AACA,UAAIkB,IAAI,GAAG,2CAA2CF,UAA3C,GAAwD,QAAxD,GAAmEhB,QAAnE,GAA8E,QAAzF;AACA,aAAOU,KAAK,CAACQ,IAAD,CAAZ,CALoB,CAKA;AACvB,KAVsB,EAWlBN,IAXkB,CAWb,UAAUC,QAAV,EAAoB;AACtB,UAAIA,QAAQ,IAAI,IAAhB,EAAsB;AAClB,eAAOA,QAAQ,CAACC,IAAT,EAAP;AACH;AACJ,KAfkB,EAgBlBK,KAhBkB,CAgBZ,UAAUC,KAAV,EAAiB;AACpBf,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCc,KAAnC;AACH,KAlBkB,CAAvB;AAoBAC,IAAAA,MAAM,CAACT,IAAP,CAAYU,KAAK,IAAI,KAAK/B,QAAL,CAAc;AAAE+B,MAAAA;AAAF,KAAd,CAArB;AACH;;AAEDC,EAAAA,MAAM,GAAG;AACL,wBACI,oBAAC,MAAD;AACI,MAAA,IAAI,EAAC,UADT;AAEI,MAAA,UAAU,EAAE;AAAE,sBAAc;AAAhB,OAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAMH;;AA7CkC;;AAgDvC,eAAenC,QAAf","sourcesContent":["import Switch from '@material-ui/core/Switch';\r\nimport React from 'react'\r\n\r\nclass Gerichte extends React.Component {\r\n\r\n    componentWillMount(){\r\n\r\n        this.setState({ isLoaded: true })\r\n        this.setState({ value: this.state.value + 1 });\r\n        var i = this.state.value\r\n        var date = new Date('2019,10,11')\r\n        date.setDate(date.getDate() + i)\r\n        let day_date = FormatDate(date)\r\n        const days = [\"Mon\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\", \"So\"]\r\n        var dayweek = days[date.getDay() - 1]\r\n        console.log(dayweek)\r\n        this.setState({ safeDate: day_date, daysWeek: dayweek })\r\n\r\n        var fetchingGerichte = fetch('/mymensa', {\r\n            method: 'get',\r\n        }).then(function (response) {\r\n            return response.json(); // pass the data as promise to next then block\r\n        }).then(function (data) {\r\n            canteen_id = data[0].id;\r\n\r\n            console.log(canteen_id, '\\n' + day_date);\r\n            var urli = 'https://openmensa.org/api/v2/canteens/' + canteen_id + '/days/' + day_date + '/meals'\r\n            return fetch(urli); // make a 2nd request and return a promise\r\n        })\r\n            .then(function (response) {\r\n                if (response != null) {\r\n                    return response.json();\r\n                }\r\n            })\r\n            .catch(function (error) {\r\n                console.log('Request failed test', error)\r\n            })\r\n        \r\n        result.then(essen => this.setState({ essen }));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Switch\r\n                name=\"checkedA\"\r\n                inputProps={{ 'aria-label': 'secondary checkbox' }}\r\n            />\r\n        )\r\n    }\r\n\r\n}\r\nexport default Gerichte"]},"metadata":{},"sourceType":"module"}